{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\klose\\\\workspace\\\\myfishing\\\\src\\\\page\\\\diary\\\\diaryView.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport { MFButton } from 'component/button/mf_button';\nimport { textColumns, numberColumns, picklistColumns, multiPicklistColumns, textareaColumns } from 'component/column/columns';\nimport { MFOutoPut } from 'component/column/output/mf_output';\nimport styled from \"styled-components\";\nimport { StyledWrapper, StyledOuter } from 'component/commonCSS/style';\nimport { testData } from 'testData';\nimport { order } from 'page/diary/dialyColumnOrder';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DiaryView = () => {\n  _s();\n\n  var _orderedColumns$curre;\n\n  const [orderedColumns, setOrderedColumns] = useState(); // const orderedColumns = useRef<Column[]>();\n  // ページ初期化\n\n  useEffect(() => {\n    (async () => {\n      console.log('@Diary View@');\n      console.log('useEffect start'); // 項目定義情報の取得\n\n      const columns = [...textColumns, ...numberColumns, ...picklistColumns, ...multiPicklistColumns, ...textareaColumns];\n      console.log('columns');\n      console.log(columns); // サーバーから初期値を取得 await\n      // サーバーからの値をrecordに注入\n\n      for (let c of columns) {\n        if (testData[c.id]) c.value = testData[c.id];\n      }\n\n      setOrderedColumns(sortColumns(order, columns));\n      console.log('orderedColumns');\n      console.log(orderedColumns);\n    })();\n  }, []);\n\n  const sortColumns = (order, columns) => {\n    const result = [];\n\n    for (let o of order) {\n      for (let c of columns) {\n        if (c.id === o) {\n          result.push(c);\n          break;\n        }\n      }\n    }\n\n    return result;\n  };\n\n  return /*#__PURE__*/_jsxDEV(StyledOuter, {\n    children: /*#__PURE__*/_jsxDEV(StyledWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(StyledContainer, {\n        children: (_orderedColumns$curre = orderedColumns.current) === null || _orderedColumns$curre === void 0 ? void 0 : _orderedColumns$curre.map(oc => {\n          console.log(oc.value);\n          return /*#__PURE__*/_jsxDEV(MFOutoPut, {\n            label: oc.label,\n            id: oc.id,\n            value: oc.value\n          }, oc.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 40\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StyledButtonWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(StyledButtonContainer, {\n          children: /*#__PURE__*/_jsxDEV(MFButton, {\n            type: 'button',\n            disabled: false,\n            mode: 'positive',\n            children: \"\\u7DE8\\u96C6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(StyledButtonContainer, {\n          children: /*#__PURE__*/_jsxDEV(MFButton, {\n            type: 'button',\n            disabled: false,\n            mode: 'negative',\n            children: \"\\u623B\\u308B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DiaryView, \"1oe6i4NalH4jL1UQ0204CQoXP9Q=\");\n\n_c = DiaryView;\nconst StyledContainer = styled.div`\ndisplay: grid;\npadding-top: 100px;\ngrid-auto-rows: 150px;\ngrid-template-columns: 50% 50%;\n`;\n_c2 = StyledContainer;\nconst StyledButtonWrapper = styled.div`\nwidth: 30%;\nmargin: 0 auto;\nheight: 150px;\nalign-items: center;\njustify-content: center;\ndisplay: flex;\n`;\n_c3 = StyledButtonWrapper;\nconst StyledButtonContainer = styled.div`\nmargin: 0 10%;\n`;\n_c4 = StyledButtonContainer;\nexport default DiaryView;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"DiaryView\");\n$RefreshReg$(_c2, \"StyledContainer\");\n$RefreshReg$(_c3, \"StyledButtonWrapper\");\n$RefreshReg$(_c4, \"StyledButtonContainer\");","map":{"version":3,"sources":["C:/Users/klose/workspace/myfishing/src/page/diary/diaryView.tsx"],"names":["useEffect","useState","MFButton","textColumns","numberColumns","picklistColumns","multiPicklistColumns","textareaColumns","MFOutoPut","styled","StyledWrapper","StyledOuter","testData","order","DiaryView","orderedColumns","setOrderedColumns","console","log","columns","c","id","value","sortColumns","result","o","push","current","map","oc","label","StyledContainer","div","StyledButtonWrapper","StyledButtonContainer"],"mappings":"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","sourcesContent":["import { useEffect, useState, VFC } from 'react';\r\nimport { MFButton } from 'component/button/mf_button';\r\nimport { Column } from 'component/column/input/columnDef';\r\nimport {\r\n    textColumns, \r\n    numberColumns,\r\n    picklistColumns,\r\n    multiPicklistColumns,\r\n    textareaColumns\r\n} from 'component/column/columns';\r\nimport { MFOutoPut } from 'component/column/output/mf_output'\r\nimport styled from \"styled-components\";\r\nimport { StyledWrapper, StyledOuter } from 'component/commonCSS/style'\r\nimport { testData } from 'testData'\r\nimport { order } from 'page/diary/dialyColumnOrder'\r\n\r\nconst DiaryView: VFC = () => {\r\n    \r\n    const [orderedColumns, setOrderedColumns] = useState<Column[]>();\r\n\r\n    // const orderedColumns = useRef<Column[]>();\r\n\r\n    // ページ初期化\r\n    useEffect(()=> {       \r\n        (\r\n            async () => {\r\n                console.log('@Diary View@');\r\n                console.log('useEffect start');\r\n                // 項目定義情報の取得\r\n                const columns: Column[] = [...textColumns, ...numberColumns, ...picklistColumns, ...multiPicklistColumns, ...textareaColumns];\r\n                console.log('columns');\r\n                console.log(columns);\r\n                \r\n                // サーバーから初期値を取得 await\r\n\r\n                // サーバーからの値をrecordに注入\r\n                for(let c of columns){\r\n                    if(testData[c.id]) c.value = testData[c.id];\r\n                }\r\n\r\n                setOrderedColumns(sortColumns(order, columns));\r\n                console.log('orderedColumns');\r\n                console.log(orderedColumns);\r\n            })()\r\n    },[])\r\n    \r\n    const sortColumns = (order:string[], columns:Column[]):Column[] => {\r\n        const result: Column[] = [];\r\n        \r\n        for( let o of order ){\r\n            for(let c of columns){\r\n                if(c.id === o){\r\n                    result.push(c);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    return (\r\n        <StyledOuter>\r\n            <StyledWrapper>\r\n                <StyledContainer>\r\n                        {orderedColumns.current?.map((oc)=>{\r\n                                console.log(oc.value);\r\n                                return <MFOutoPut\r\n                                            label={oc.label}\r\n                                            id={oc.id}\r\n                                            key={oc.id}\r\n                                            value={oc.value}></MFOutoPut>\r\n                        })}\r\n                </StyledContainer>\r\n                <StyledButtonWrapper>\r\n                    <StyledButtonContainer>\r\n                        <MFButton type={'button'} disabled={false} mode={'positive'}>編集</MFButton>\r\n                    </StyledButtonContainer>\r\n                    <StyledButtonContainer>\r\n                        <MFButton type={'button'} disabled={false} mode={'negative'}>戻る</MFButton>\r\n                    </StyledButtonContainer>\r\n                </StyledButtonWrapper>\r\n            </StyledWrapper>\r\n        </StyledOuter>\r\n    )\r\n}\r\n\r\nconst StyledContainer =styled.div`\r\ndisplay: grid;\r\npadding-top: 100px;\r\ngrid-auto-rows: 150px;\r\ngrid-template-columns: 50% 50%;\r\n`;\r\n\r\nconst StyledButtonWrapper =styled.div`\r\nwidth: 30%;\r\nmargin: 0 auto;\r\nheight: 150px;\r\nalign-items: center;\r\njustify-content: center;\r\ndisplay: flex;\r\n`;\r\n\r\nconst StyledButtonContainer =styled.div`\r\nmargin: 0 10%;\r\n`;\r\n\r\nexport default DiaryView;"]},"metadata":{},"sourceType":"module"}