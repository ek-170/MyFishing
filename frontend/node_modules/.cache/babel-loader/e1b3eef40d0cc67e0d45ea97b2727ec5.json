{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/klose/workspace/myfishing/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"C:/Users/klose/workspace/myfishing/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"C:/Users/klose/workspace/myfishing/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"C:/Users/klose/workspace/myfishing/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/Users/klose/workspace/myfishing/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/klose/workspace/myfishing/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3;import{useEffect,useState}from'react';import{MFButton}from'component/button/mf_button';import{MFOutoPut}from'component/column/output/mf_output';import styled from\"styled-components\";import{StyledWrapper,StyledOuter}from'commonCSS/style';import{testData}from'testData';import{order}from'page/diary/dialyColumnOrder';import{textColumns,numberColumns,dateColumns,picklistColumns,multiPicklistColumns,textareaColumns}from'component/column/columns';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DiaryView=function DiaryView(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),orderedColumns=_useState2[0],setOrderedColumns=_useState2[1];// URLパラメータからid値を取得する\n// 取得値がidの正規表現に合致しない場合は新規レコード作成画面とみなす\n// ページ初期化\nuseEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var columns,_iterator,_step,c;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('@Diary View@');console.log('useEffect start');// 項目定義情報の取得\ncolumns=[].concat(_toConsumableArray(textColumns),_toConsumableArray(numberColumns),_toConsumableArray(dateColumns),_toConsumableArray(picklistColumns),_toConsumableArray(multiPicklistColumns),_toConsumableArray(textareaColumns));console.log('columns');console.log(columns);// サーバーから初期値を取得\n// 項目「日付」のタイプガードをサーバから取得したデータに対して実施する\n// サーバーからの値をrecordに注入\n_iterator=_createForOfIteratorHelper(columns);try{for(_iterator.s();!(_step=_iterator.n()).done;){c=_step.value;if(testData[c.id])c.value=testData[c.id];}}catch(err){_iterator.e(err);}finally{_iterator.f();}setOrderedColumns(sortColumns(order,columns));console.log('orderedColumns');console.log(orderedColumns);case 10:case\"end\":return _context.stop();}}},_callee);}))();},[]);var sortColumns=function sortColumns(order,columns){var result=[];var _iterator2=_createForOfIteratorHelper(order),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var o=_step2.value;var _iterator3=_createForOfIteratorHelper(columns),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var c=_step3.value;if(c.id===o){result.push(c);break;}}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return result;};return/*#__PURE__*/_jsx(StyledOuter,{children:/*#__PURE__*/_jsxs(StyledWrapper,{children:[/*#__PURE__*/_jsx(StyledContainer,{children:orderedColumns===null||orderedColumns===void 0?void 0:orderedColumns.map(function(oc){return/*#__PURE__*/_jsx(MFOutoPut,{label:oc.label,id:oc.id,value:oc.value},oc.id);})}),/*#__PURE__*/_jsxs(StyledButtonWrapper,{children:[/*#__PURE__*/_jsx(StyledButtonContainer,{children:/*#__PURE__*/_jsx(MFButton,{type:'button',disabled:false,mode:'positive',children:\"\\u7DE8\\u96C6\"})}),/*#__PURE__*/_jsx(StyledButtonContainer,{children:/*#__PURE__*/_jsx(MFButton,{type:'button',disabled:false,mode:'negative',hidden:true,children:\"\\u623B\\u308B\"})})]})]})});};var StyledContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\ndisplay: grid;\\npadding-top: 100px;\\ngrid-auto-rows: 150px;\\ngrid-template-columns: 50% 50%;\\n\"])));var StyledButtonWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nwidth: 30%;\\nmargin: 0 auto;\\nheight: 150px;\\nalign-items: center;\\njustify-content: center;\\ndisplay: flex;\\n\"])));var StyledButtonContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nmargin: 0 10%;\\n\"])));export default DiaryView;","map":{"version":3,"sources":["C:/Users/klose/workspace/myfishing/frontend/src/page/diary/diaryView.tsx"],"names":["useEffect","useState","MFButton","MFOutoPut","styled","StyledWrapper","StyledOuter","testData","order","textColumns","numberColumns","dateColumns","picklistColumns","multiPicklistColumns","textareaColumns","DiaryView","orderedColumns","setOrderedColumns","console","log","columns","c","id","value","sortColumns","result","o","push","map","oc","label","StyledContainer","div","StyledButtonWrapper","StyledButtonContainer"],"mappings":"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","sourcesContent":["import { useEffect, useState, VFC } from 'react';\r\nimport { MFButton } from 'component/button/mf_button';\r\nimport { MFOutoPut } from 'component/column/output/mf_output'\r\nimport styled from \"styled-components\";\r\nimport { StyledWrapper, StyledOuter } from 'commonCSS/style'\r\nimport { testData } from 'testData'\r\nimport { order } from 'page/diary/dialyColumnOrder'\r\nimport { Column } from 'component/column/columnDef';\r\nimport {\r\n    textColumns, \r\n    numberColumns,\r\n    dateColumns,\r\n    picklistColumns,\r\n    multiPicklistColumns,\r\n    textareaColumns\r\n} from 'component/column/columns';\r\n\r\nconst DiaryView: VFC = () => {\r\n    \r\n    const [orderedColumns, setOrderedColumns] = useState<Column[]>();\r\n\r\n    // URLパラメータからid値を取得する\r\n    // 取得値がidの正規表現に合致しない場合は新規レコード作成画面とみなす\r\n    \r\n    // ページ初期化\r\n    useEffect(()=> {       \r\n        (\r\n            async () => {\r\n                console.log('@Diary View@');\r\n                console.log('useEffect start');\r\n                // 項目定義情報の取得\r\n                const columns: Column[] = [...textColumns, ...numberColumns, ...dateColumns,...picklistColumns, ...multiPicklistColumns, ...textareaColumns];\r\n                console.log('columns');\r\n                console.log(columns);\r\n                \r\n                // サーバーから初期値を取得\r\n\r\n                // 項目「日付」のタイプガードをサーバから取得したデータに対して実施する\r\n                \r\n                // サーバーからの値をrecordに注入\r\n                for(let c of columns){\r\n                    if(testData[c.id]) c.value = testData[c.id];\r\n                }\r\n\r\n                setOrderedColumns(sortColumns(order, columns));\r\n                console.log('orderedColumns');\r\n                console.log(orderedColumns);\r\n            })()\r\n    },[])\r\n    \r\n    const sortColumns = (order:string[], columns:Column[]):Column[] => {\r\n        const result: Column[] = [];\r\n        \r\n        for( let o of order ){\r\n            for(let c of columns){\r\n                if(c.id === o){\r\n                    result.push(c);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    return (\r\n        <StyledOuter>\r\n            <StyledWrapper>\r\n                <StyledContainer>\r\n                    {orderedColumns?.map((oc)=>{\r\n                        return <MFOutoPut\r\n                                label={oc.label}\r\n                                id={oc.id}\r\n                                key={oc.id}\r\n                                value={oc.value}></MFOutoPut>\r\n                        })}\r\n                </StyledContainer>\r\n                <StyledButtonWrapper>\r\n                    <StyledButtonContainer>\r\n                        <MFButton type={'button'} disabled={false} mode={'positive'}>編集</MFButton>\r\n                    </StyledButtonContainer>\r\n                    <StyledButtonContainer>\r\n                        <MFButton type={'button'} disabled={false} mode={'negative'} hidden={true}>戻る</MFButton>\r\n                    </StyledButtonContainer>\r\n                </StyledButtonWrapper>\r\n            </StyledWrapper>\r\n        </StyledOuter>\r\n    )\r\n}\r\n\r\nconst StyledContainer =styled.div`\r\ndisplay: grid;\r\npadding-top: 100px;\r\ngrid-auto-rows: 150px;\r\ngrid-template-columns: 50% 50%;\r\n`;\r\n\r\nconst StyledButtonWrapper =styled.div`\r\nwidth: 30%;\r\nmargin: 0 auto;\r\nheight: 150px;\r\nalign-items: center;\r\njustify-content: center;\r\ndisplay: flex;\r\n`;\r\n\r\nconst StyledButtonContainer =styled.div`\r\nmargin: 0 10%;\r\n`;\r\n\r\nexport default DiaryView;"]},"metadata":{},"sourceType":"module"}